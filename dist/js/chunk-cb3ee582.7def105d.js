(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb3ee582"],{"0e72":function(t,s,i){"use strict";i("5a01")},1244:function(t,s,i){"use strict";i("4a75")},"16ca":function(t,s,i){"use strict";var e=i("1f04"),a=i("7ce6"),r=i("0914"),n=i("97f5"),o=i("f8d3"),c=i("a187"),l=i("98a5"),u=i("6827"),h=i("7041"),f=i("3086"),d=i("69a9"),m=f("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",g=d>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),y=h("concat"),w=function(t){if(!n(t))return!1;var s=t[m];return void 0!==s?!!s:r(t)},_=!g||!y;e({target:"Array",proto:!0,forced:_},{concat:function(t){var s,i,e,a,r,n=o(this),h=u(n,0),f=0;for(s=-1,e=arguments.length;s<e;s++)if(r=-1===s?n:arguments[s],w(r)){if(a=c(r.length),f+a>v)throw TypeError(p);for(i=0;i<a;i++,f++)i in r&&l(h,f,r[i])}else{if(f>=v)throw TypeError(p);l(h,f++,r)}return h.length=f,h}})},"17ec":function(t,s,i){var e=i("02ac"),a=i("f8d3"),r=i("4f06"),n=i("a187"),o=function(t){return function(s,i,o,c){e(i);var l=a(s),u=r(l),h=n(l.length),f=t?h-1:0,d=t?-1:1;if(o<2)while(1){if(f in u){c=u[f],f+=d;break}if(f+=d,t?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:h>f;f+=d)f in u&&(c=i(c,u[f],f,l));return c}};t.exports={left:o(!1),right:o(!0)}},"239f":function(t,s,i){"use strict";i("99a5")},"2d3b":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"Search"},[i("div",{staticClass:"top"},[i("div",{staticClass:"box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.iptData,expression:"iptData"}],ref:"ipt",attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.iptData},on:{input:[function(s){s.target.composing||(t.iptData=s.target.value)},t.changes],focus:t.getFocus}}),i("span",{staticClass:"find"}),i("div",{staticClass:"dele",on:{click:function(s){return s.stopPropagation(),t.deleteData(s)}}},[t._v("x")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.hotSearchShow,expression:"hotSearchShow"}],ref:"hotsearch",staticClass:"seek"},[i("div",{staticClass:"title"},[t._v("热门搜索")]),i("ul",{staticClass:"hotSeek"},t._l(t.hotSeekList,(function(s,e){return i("li",{key:e+1,on:{click:t.searchHotMusic}},[t._v(t._s(s.first))])})),0)]),i("Searchlist",{directives:[{name:"show",rawName:"v-show",value:t.searchClassify,expression:"searchClassify"}],attrs:{classifyData:t.classifyData,iptData:t.iptData},on:{findreturn:t.findreturn},nativeOn:{click:function(s){return t.triggerAddHistory(s)}}}),i("Loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]}),t._l(t.search_music_list,(function(s,e){return i("FindSongslist",{directives:[{name:"show",rawName:"v-show",value:t.songsList,expression:"songsList"}],key:e+1,attrs:{item:s}})})),i("DeleteCookies",{directives:[{name:"show",rawName:"v-show",value:t.searchHistoryShow,expression:"searchHistoryShow"}],attrs:{searchHistory:t.searchHistory}})],2)},a=[],r=(i("bf2f"),i("a037"),i("16ca"),i("5b12"),i("9b5f"),i("3337"),i("1d43"),function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"SearchList"},[i("div",{staticClass:"seek"},[t._v('搜索"'+t._s(t.iptData)+'"')]),i("ul",t._l(t.classifyData,(function(s){return i("li",{key:s.id,on:{click:function(i){return t.clicks(i,s.name)}}},[i("div",{staticClass:"fdj"}),i("div",{staticClass:"content"},[t._v(" "+t._s(t._f("formatType")(s))+t._s(s.name)+" ")])])})),0)])}),n=[],o=(i("b3b0"),i("a5f8"),{name:"SearchList",props:{classifyData:{type:Array,default:function(){return[]}},iptData:String},data:function(){return{num:0}},methods:{clicks:function(t,s){var i=t.target.parentNode.children[1].textContent;i.includes("歌手")?this.num=100:i.includes("歌曲")?this.num=1:i.includes("专辑")&&(this.num=10),this.$emit("findreturn",s+"&type="+this.num)}},filters:{formatType:function(t){return"undefined"!=typeof t.artists?"歌曲:":"undefined"!=typeof t.artist?"专辑:":"歌手:"}}}),c=o,l=(i("ede4"),i("5d22")),u=Object(l["a"])(c,r,n,!1,null,"15d8b939",null),h=u.exports,f=i("3a5e"),d=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"findsongslist"},[1==t.item.num?i("li",{staticClass:"songs",on:{click:t.submitMusicId}},[i("div",{staticClass:"left"},[i("div",[t._v(t._s(t.item.name))]),i("p",[i("span",{staticClass:"first"},[t._v(t._s(t.item.artists[0].name))]),2==t.item.artists.length?i("span",{staticClass:"second"},[t._v(t._s("/ "+t.item.artists[1].name))]):t._e(),t._v(" -"),i("span",{staticClass:"last"},[t._v(t._s(t.item.album))])])]),t._m(0)]):t._e(),2==t.item.num?i("router-link",{staticClass:"album",attrs:{tag:"li",to:"/"}},[i("div",{staticClass:"left"},[i("img",{attrs:{src:t.item.picUrl,alt:""}})]),i("div",{staticClass:"right"},[i("div",{staticClass:"names"},[t._v(t._s(t.item.name))]),i("div",{staticClass:"singer"},[i("span",{staticClass:"first"},[t._v(t._s(t.item.artists[0].name))]),2==t.item.artists.length?i("span",{staticClass:"second"},[t._v(t._s("/ "+t.item.artists[1].name))]):t._e()])]),i("div",{staticClass:"icon"})]):t._e(),3==t.item.num?i("li",{staticClass:"artists",on:{click:t.showMask}},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:t.item.picUrl,alt:""}})]),i("div",{staticClass:"names"},[t._v(t._s(t.item.name))]),i("div",{staticClass:"icon"})]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isMaskShow,expression:"isMaskShow"}],staticClass:"mask"},[i("div",{staticClass:"back",on:{click:t.back}}),i("div",{staticClass:"info"},[t._v("热门50首")]),i("ul",t._l(t.formatData,(function(s,e){return i("li",{key:e+1,on:{click:function(i){return t.submitId(s.id)}}},[i("div",{staticClass:"rank"},[t._v(t._s(t._f("formatNum")(e+1)))]),i("div",{staticClass:"picture"},[i("img",{attrs:{src:s.picUrl,alt:""}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:s.sq>32e4,expression:"v.sq > 320000"}],staticClass:"tone"}),i("div",{staticClass:"names"},[t._v(t._s(s.name))])])})),0)])],1)},m=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"right"},[i("span")])}],v={name:"Findsongslist",props:["item"],data:function(){return{isMaskShow:!1,formatData:[{name:"",picUrl:"",sq:0}]}},methods:{submitId:function(t){this.$root.globalData.musicId=t},submitMusicId:function(){this.$root.globalData.musicId=this.item.id,this.$root.globalData.musicInfo=this.item},showMask:function(){var t=this;this.isMaskShow=!0,this.$axios.get("/artists?id="+this.item.id).then((function(s){if(200==s.request.status){var i=s.data.hotSongs;t.formatData=i.map((function(t){return{picUrl:t.al.picUrl,name:t.name,sq:t.privilege.playMaxbr,id:t.id}}))}}))},back:function(){this.isMaskShow=!1}},filters:{formatNum:function(t){return t<10?"0"+t:t}},created:function(){}},p=v,g=(i("0e72"),Object(l["a"])(p,d,m,!1,null,"2c1294b4",null)),y=g.exports,w=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"deleteCookies"},[i("div",{staticClass:"text"},[t._v("搜索历史：")]),t._l(t.searchHistory,(function(s,e){return i("van-cell",{key:e,attrs:{title:s,icon:"search"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[i("van-icon",{staticClass:"cross-icon",attrs:{name:"cross"},on:{click:function(s){return t.deleteSearchHistory(e)}}})]},proxy:!0}],null,!0)})}))],2)},_=[],C={name:"DeleteCookies",props:{searchHistory:{type:Array,default:function(){return[]}}},methods:{deleteSearchHistory:function(t){this.searchHistory.splice(t,1)}}},S=C,k=(i("1244"),Object(l["a"])(S,w,_,!1,null,"0c773251",null)),b=k.exports,x={name:"Search",data:function(){return{iptData:"",cookiesNum:0,searchHistory:[],classifyData:[],search_music_list:[],hotSearchShow:!0,searchHistoryShow:!0,loading:!1,searchClassify:!1,songsList:!1,hotSeekList:[]}},components:{Searchlist:h,Loading:f["a"],FindSongslist:y,DeleteCookies:b},methods:{triggerAddHistory:function(){this.setSearchHistory()},deleteData:function(){this.searchClassify=!1,this.songsList=!1,this.hotSearchShow=!0,this.searchHistoryShow=!0,this.iptData=""},setSearchHistory:function(){var t=this.iptData;if(t){var s=this.searchHistory.indexOf(t);s>-1&&this.searchHistory.splice(s,1),this.searchHistory.push(t),this.searchHistory.reverse()}},changes:function(){this.searchHistoryShow=!1,this.hotSearchShow=!1},getFocus:function(t){var s=this,i=t.target.value;i&&(this.loading=!0,this.searchHistoryShow=!0,this.hotSearchShow=!1,this.songsList=!1,this.$axios.get("/search/suggest?keywords="+i).then((function(t){console.log(t);var i=t.data.result;if(200==t.data.code&&i.order){var e=i.order.reduce((function(t,s){return"playlists"!=s?t.concat(i[s]):t}),[]);s.classifyData=e}else s.classifyData=[];s.loading=!1,s.searchClassify=!0,""==s.iptData&&(s.searchHistoryShow=!0,s.hotSearchShow=!0,s.searchClassify=!1)})))},findreturn:function(t){var s=this;this.loading=!0,this.searchClassify=!1,this.$axios.get("/search?keywords="+t).then((function(i){if(s.loading=!1,s.songsList=!0,200==i.data.code){var e=t.split("=")[1];if(e<10){var a="songs";s.search_music_list=i.data.result[a].map((function(t){return{name:t.name,id:t.id,artists:t.artists,album:t.album.name,num:1}}))}else if(e<100){var r="albums";s.search_music_list=i.data.result[r].map((function(t){return{name:t.name,id:t.id,picUrl:t.picUrl,artists:t.artists,num:2}}))}else{var n="artists";s.search_music_list=i.data.result[n].map((function(t){return{name:t.name,id:t.id,picUrl:t.picUrl,num:3}}))}}}))},searchHotMusic:function(t){var s=this,i=t.target.textContent;this.iptData=i,this.loading=!0,this.searchHistoryShow=!1,this.hotSearchShow=!1,this.songsList=!1,this.$axios.get("/search/suggest?keywords="+i).then((function(t){var i=t.data.result;if(200==t.data.code&&i.order){var e=i.order.reduce((function(t,s){return"playlists"!=s?t.concat(i[s]):t}),[]);s.classifyData=e}else s.classifyData=[];s.loading=!1,s.searchClassify=!0}))}},watch:{iptData:function(t){var s=this;this.loading=!0,this.hotSearchShow=!1,this.searchHistoryShow=!1,this.songsList=!1,this.$axios.get("/search/suggest?keywords="+t).then((function(t){var i=t.data.result;if(200==t.data.code&&i.order){var e=i.order.reduce((function(t,s){return"playlists"!=s?t.concat(i[s]):t}),[]);s.classifyData=e}else s.classifyData=[];s.loading=!1,s.searchClassify=!0,""==s.iptData&&(s.hotSearchShow=!0,s.searchHistoryShow=!0,s.searchClassify=!1)}))}},created:function(){var t=this;this.$axios.get("/search/hot").then((function(s){t.hotSeekList=s.data.result.hots}))},beforeRouteEnter:function(t,s,i){i((function(t){t.loading=!1,t.hotSearchShow=!0,t.songsList=!1,t.searchClassify=!1,t.$refs.ipt.value="","undefined"!=typeof t.$refs.ipt.value&&(t.$refs.ipt.value="")}))}},D=x,H=(i("239f"),Object(l["a"])(D,e,a,!1,null,"f178d042",null));s["default"]=H.exports},"4a75":function(t,s,i){},"5a01":function(t,s,i){},"6b33":function(t,s,i){var e=i("3086"),a=e("match");t.exports=function(t){var s=/./;try{"/./"[t](s)}catch(i){try{return s[a]=!1,"/./"[t](s)}catch(e){}}return!1}},"7b84":function(t,s,i){},"98a5":function(t,s,i){"use strict";var e=i("3de9"),a=i("d320"),r=i("1f88");t.exports=function(t,s,i){var n=e(s);n in t?a.f(t,n,r(0,i)):t[n]=i}},"99a5":function(t,s,i){},a037:function(t,s,i){"use strict";var e=i("1f04"),a=i("17ec").left,r=i("d714"),n=i("69a9"),o=i("2083"),c=r("reduce"),l=!o&&n>79&&n<83;e({target:"Array",proto:!0,forced:!c||l},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},a5f8:function(t,s,i){"use strict";var e=i("1f04"),a=i("c6c0"),r=i("4023"),n=i("6b33");e({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~String(r(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},b3b0:function(t,s,i){"use strict";var e=i("1f04"),a=i("8141").includes,r=i("05e7");e({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},bf2f:function(t,s,i){"use strict";var e=i("1f04"),a=i("5156"),r=i("e6d2"),n=i("a187"),o=i("f8d3"),c=i("6827"),l=i("98a5"),u=i("7041"),h=u("splice"),f=Math.max,d=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";e({target:"Array",proto:!0,forced:!h},{splice:function(t,s){var i,e,u,h,p,g,y=o(this),w=n(y.length),_=a(t,w),C=arguments.length;if(0===C?i=e=0:1===C?(i=0,e=w-_):(i=C-2,e=d(f(r(s),0),w-_)),w+i-e>m)throw TypeError(v);for(u=c(y,e),h=0;h<e;h++)p=_+h,p in y&&l(u,h,y[p]);if(u.length=e,i<e){for(h=_;h<w-e;h++)p=h+e,g=h+i,p in y?y[g]=y[p]:delete y[g];for(h=w;h>w-e+i;h--)delete y[h-1]}else if(i>e)for(h=w-e;h>_;h--)p=h+e-1,g=h+i-1,p in y?y[g]=y[p]:delete y[g];for(h=0;h<i;h++)y[h+_]=arguments[h+2];return y.length=w-e+i,u}})},c6c0:function(t,s,i){var e=i("d192");t.exports=function(t){if(e(t))throw TypeError("The method doesn't accept regular expressions");return t}},d714:function(t,s,i){"use strict";var e=i("7ce6");t.exports=function(t,s){var i=[][t];return!!i&&e((function(){i.call(null,s||function(){throw 1},1)}))}},ede4:function(t,s,i){"use strict";i("7b84")}}]);
//# sourceMappingURL=chunk-cb3ee582.7def105d.js.map